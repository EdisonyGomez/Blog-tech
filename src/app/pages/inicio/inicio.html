<main class="blog-container">
  <!-- Hero Section Mejorado -->
  <header class="hero-section" [@fadeInUp]>
    <div class="hero-content">
      <div class="hero-badge">
        <span class="badge-icon">ü§ñ</span>
        <span>IA para todos</span>
      </div>
      <h1 class="hero-title">
        Descubre el poder de la 
        <span class="gradient-text">Inteligencia Artificial</span>
      </h1>
      <p class="hero-subtitle">
        Gu√≠as pr√°cticas y herramientas para aprovechar la IA en tu d√≠a a d√≠a, 
        sin necesidad de conocimientos t√©cnicos.
      </p>
      <div class="hero-actions">
        <button class="btn-primary" (click)="scrollToArticles()">
          <span>Explorar art√≠culos</span>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M7 13l3 3 7-7"/>
          </svg>
        </button>
      </div>
    </div>
    <div class="hero-visual">
      <div class="floating-cards">
        <div class="card-float card-1">üí°</div>
        <div class="card-float card-2">üöÄ</div>
        <div class="card-float card-3">‚ö°</div>
      </div>
    </div>
    <!-- Indicador de scroll animado -->
    <div class="scroll-indicator" (click)="scrollToArticles()">
      <svg 
        class="scroll-arrow" 
        width="24" 
        height="24" 
        viewBox="0 0 24 24" 
        fill="none" 
        stroke="currentColor" 
        stroke-width="2"
      >
        <path d="M7 13l5 5 5-5"/>
        <path d="M7 6l5 5 5-5"/>
      </svg>
      <span class="scroll-text">Scroll para ver art√≠culos</span>
    </div>
  </header>

  <!-- üì¢ Anuncio grande debajo del Hero -->
  <div id="ezoic-pub-ad-placeholder-109"></div>

  <!-- Barra de b√∫squeda y filtros -->
  <section class="search-section" [@fadeInUp]>
    <div class="search-container">
      <div class="search-box">
        <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"/>
          <path d="m21 21-4.35-4.35"/>
        </svg>
        <input 
          type="text" 
          placeholder="Buscar art√≠culos sobre IA, ChatGPT, herramientas..."
          [(ngModel)]="searchTerm"
          (input)="filterArticles()"
        >
      </div>
      <div class="filter-tags">
        <button 
          class="tag-filter" 
          [class.active]="selectedTag === 'todos'"
          (click)="filterByTag('todos')"
        >
          Todos
        </button>
        <button 
          class="tag-filter" 
          [class.active]="selectedTag === 'chatgpt'"
          (click)="filterByTag('chatgpt')"
        >
          ChatGPT
        </button>
        <button 
          class="tag-filter" 
          [class.active]="selectedTag === 'herramientas'"
          (click)="filterByTag('herramientas')"
        >
          Herramientas
        </button>
        <button 
          class="tag-filter" 
          [class.active]="selectedTag === 'productividad'"
          (click)="filterByTag('productividad')"
        >
          Productividad
        </button>
      </div>
    </div>
  </section>

  <!-- Grid de art√≠culos moderno -->
  <section class="articles-section" id="articles" [@fadeInUp]>
    <div class="section-header">
      <h2>Art√≠culos recientes</h2>
      <p>Descubre las √∫ltimas gu√≠as y consejos sobre IA</p>
    </div>

    <!-- üì¢ Anuncio debajo del t√≠tulo de secci√≥n -->
    <div id="ezoic-pub-ad-placeholder-112"></div>

    <div class="articles-grid">
      @for (articulo of displayedArticles; track articulo.id; let i = $index) {
        <article 
          class="article-card" 
          [@slideInUp]
          [style.animation-delay]="i * 100 + 'ms'">
          
          <div class="card-header">
            <div class="article-meta">
              <span class="category-tag" [ngClass]="articulo.categoria">
                {{ articulo.categoria }}
              </span>
              <span class="read-time">{{ articulo.tiempoLectura }} min</span>
            </div>
            <button class="bookmark-btn" (click)="toggleBookmark(articulo)">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"/>
              </svg>
            </button>
          </div>

          <div class="card-content">
            <h3 class="article-title">{{ articulo.titulo }}</h3>
            <p class="article-excerpt">{{ articulo.resumen }}</p>
            
            @if (articulo.expanded) {
              <div class="article-preview" @expandCollapse>
                <div class="preview-content" [innerHTML]="articulo.contenidoPreview"></div>
              </div>
            }
          </div>

          <div class="card-footer">
            <div class="article-stats">
              <span class="stat">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                  <circle cx="12" cy="12" r="3"/>
                </svg>
                {{ articulo.vistas }}
              </span>
              <span class="stat">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M7 10v12l5-3 5 3V10"/>
                  <path d="M5 6h14l-1 4H6z"/>
                </svg>
                {{ articulo.likes }}
              </span>
              <span class="date">{{ articulo.fecha }}</span>
            </div>
            
            <div class="card-actions">
              <button 
                class="btn-expand" 
                (click)="toggleArticleExpansion(articulo)">
                {{ articulo.expanded ? 'Contraer' : 'Vista previa' }}
                <svg 
                  width="14" 
                  height="14" 
                  viewBox="0 0 24 24" 
                  fill="none" 
                  stroke="currentColor" 
                  stroke-width="2"
                  [class.rotated]="articulo.expanded">
                  <path d="M6 9l6 6 6-6"/>
                </svg>
              </button>
              <button 
                class="btn-read-full" 
                [routerLink]="'/articulos/' + articulo.slug">
                Leer completo
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M7 17L17 7M17 7H7M17 7V17"/>
                </svg>
              </button>
            </div>
          </div>
        </article>

        <!-- üì¢ Anuncio intercalado despu√©s del tercer art√≠culo -->
        @if (i === 2) {
          <div id="ezoic-pub-ad-placeholder-115"></div>
        }
      } @empty {
        <div class="no-articles-message">
          <p>No se encontraron art√≠culos que coincidan con tu b√∫squeda o filtros.</p>
          <button class="btn-clear-filters" (click)="searchTerm = ''; selectedTag = 'todos'; filterArticles()">
            Limpiar filtros
          </button>
        </div>
      }
    </div>

    @if (hasMoreArticles) {
      <div class="load-more-section">
        <button class="btn-load-more" (click)="loadMoreArticles()" [disabled]="loadingMore">
          <span>{{ loadingMore ? 'Cargando...' : 'Cargar m√°s art√≠culos' }}</span>
          @if (loadingMore) {
            <div class="loading-spinner"></div>
          }
        </button>
      </div>
    }
  </section>
</main>
